generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Player {
  id            Int           @id @default(autoincrement())
  name          String        @unique
  register_date DateTime      @default(now())
  password      String
  playerGames   PlayerGame[]
  ranking       Ranking?
}

model Game {
  id            Int           @id @default(autoincrement())
  played_at     DateTime      @default(now())
  }

model PlayerGame {
  id            Int           @id @default(autoincrement())
  playerId      Int                 
  dice1Result  Int
  dice2Result  Int
  overallResult String
  player        Player        @relation(fields: [playerId], references: [id])
}

model Ranking {
  id            Int           @id @default(autoincrement())
  playerId      Int           @unique
  totalGames    Int           @default(0)
  totalWins     Int           @default(0)
  totalLost     Int           @default(0)
  winPercentage Float         @default(0.0)
  player        Player        @relation(fields: [playerId], references: [id])
}
// generator client {
//   provider = "prisma-client-js"
// }

// datasource db {
//   provider = "mysql"
//   url      = env("DATABASE_URL")
// }

// model Player {
//   id Int @id @default(autoincrement())
//   name String @unique
//   register_date DateTime @default(now())
//   games Game[]
//   password String

// }

// model Game {
//   id            Int     @id @default(autoincrement())
//   playerId      Int
//   player        Player  @relation(fields: [playerId], references: [id])
//   dice1_result  Int
//   dice2_result  Int
//   overall_result String
//   played_at     DateTime @default(now())
// }